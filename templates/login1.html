<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Affiliate Login</title>
    <link rel="stylesheet" href="{% static 'css/style_login_reg.css' %}">
</head>
<body>
    <div class="container">
        <img src="{% static 'images/logowhite.webp' %}" alt="" srcset="" height="48vh">
        <div class="login-box">
            <h2>Login to your <strong>Affiliate</strong> account</h2>
            <form method="POST">
                {% csrf_token %}
                <input type="text" placeholder="Username" name="username" required>
                <input type="password" placeholder="Password" name="password" required>
                <a href="#" class="forgot-password">Forgot your password?</a>
                <button type="submit" class="login-button">Sign in</button>
            </form>
            <p>Don't have an account yet? <a href="{% url 'register1' %}">Sign Up</a></p>
            <hr>
            <p>Are you an admin? <a href="{% url 'login1' %}">Sign in here</a></p>
        </div>
    </div>

 <div id="errorModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            {% if messages %}
                {% for message in messages %}
                    <p>{{ message }}</p>
                {% endfor %}
            {% endif %}
        </div>
    </div>

<script>
        function openModal() {
            document.getElementById("errorModal").style.display = "block";
        }
        function closeModal() {
            document.getElementById("errorModal").style.display = "none";
        }

        // If there are error messages, show the modal
        {% if messages %}
            openModal();
        {% endif %}

        setTimeout(function() {
        document.getElementById("message-popup").style.display = 'none';
    }, 5000);
    </script>
</body>
</html>
